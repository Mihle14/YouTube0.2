<nav class="fixed top-0 left-0 w-full z-50 bg-black px-4 py-3 shadow-md flex justify-between items-center text-white">

  
  <div class="flex items-center space-x-2">
    <%= link_to root_path, class: "flex items-center space-x-2" do %>
      <%= image_tag "YouTube_icon.png" , alt: "YouTube Logo" , style: "height: 30px ; width: 50px" %>
      <span class="text-white font-bold text-lg">YouTube0.2</span>
    <% end %>
  </div>

  <div class="flex-1 mx-4 max-w-md">
    <form action="<%= posts_path %>" method="get" class="flex">
      <input 
      type="text" 
      name="query" 
      placeholder="Search" 
      class="flex-1 px-4 py-2 rounded-l-full border border-gray-700 bg-gray-900 text-white focus:outline-none focus:border-white"
    >

    <button 
      type="submit" 
      class="px-4 py-2 bg-gray-800 border border-gray-700 rounded-r-full hover:bg-gray-700 flex items-center justify-center"
    >
      <i class="fas fa-search text-white"></i>
    </button>
    </form>
  </div>

  <div class="flex items-center space-x-5">
    <% if user_signed_in? %>

      <%= link_to new_post_path, class: "hover:text-gray-300 text-xl" do %>
        <i class="fas fa-video"></i>
      <% end %>

      <%= link_to notifications_path, class: "relative cursor-pointer" do %>
        <%= image_tag "bell.webp", class: "w-6 h-6" %>
        <% unread = current_user.notifications.unread.count %>
        <% if unread > 0 %>
          <span class="absolute -top-1 -right-2 bg-red-600 text-white text-[11px] font-bold rounded-full px-[6px]">
            <%= unread %>
          </span>
        <% end %>
      <% end %>

      <%= link_to edit_user_registration_path, class: "text-sm bg-[#272727] px-3 py-1 rounded-full hover:bg-[#3a3a3a]" do %>
        <i class="fas fa-user-circle text-2xl"></i>
        <span class="hidden md:block text-sm"><%= current_user.email %></span>
      <% end %>

      <%= link_to "Sign Out",
          destroy_user_session_path,
          data: { turbo_method: :delete },
          class: "text-sm bg-[#272727] px-3 py-1 rounded-full hover:bg-[#3a3a3a]"
      %>

    <% else %>
      <%= link_to "Sign In",
          new_user_session_path,
          class: "text-sm bg-[#272727] px-3 py-1 rounded-full hover:bg-[#3a3a3a]"
      %>
    <% end %>
  </div>

</nav>